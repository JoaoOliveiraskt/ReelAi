"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = require("react");

var _reactNative = require("react-native");

const useKeyboardHeight = (platforms = ['ios', 'android']) => {
  const [keyboardHeight, setKeyboardHeight] = (0, _react.useState)(0);
  (0, _react.useEffect)(() => {
    if (isEventRequired(platforms)) {
      let keyboardShowEvent = _reactNative.Keyboard.addListener('keyboardDidShow', keyboardDidShow);

      let keyboardHideEvent = _reactNative.Keyboard.addListener('keyboardDidHide', keyboardDidHide); // cleanup function


      return () => {
        keyboardShowEvent.remove();
        keyboardHideEvent.remove();
      };
    } else {
      return () => {};
    }
  }, []);

  const isEventRequired = platforms => {
    try {
      return (platforms === null || platforms === void 0 ? void 0 : platforms.map(p => p === null || p === void 0 ? void 0 : p.toLowerCase()).indexOf(_reactNative.Platform.OS)) !== -1 || !platforms;
    } catch (ex) {}

    return false;
  };

  const keyboardDidShow = frames => {
    setKeyboardHeight(frames.endCoordinates.height);
  };

  const keyboardDidHide = () => {
    setKeyboardHeight(0);
  };

  return keyboardHeight;
};

var _default = useKeyboardHeight;
exports.default = _default;
//# sourceMappingURL=index.js.map