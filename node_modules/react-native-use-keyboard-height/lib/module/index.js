import { useEffect, useState } from 'react';
import { Keyboard, Platform } from 'react-native';

const useKeyboardHeight = (platforms = ['ios', 'android']) => {
  const [keyboardHeight, setKeyboardHeight] = useState(0);
  useEffect(() => {
    if (isEventRequired(platforms)) {
      let keyboardShowEvent = Keyboard.addListener('keyboardDidShow', keyboardDidShow);
      let keyboardHideEvent = Keyboard.addListener('keyboardDidHide', keyboardDidHide); // cleanup function

      return () => {
        keyboardShowEvent.remove();
        keyboardHideEvent.remove();
      };
    } else {
      return () => {};
    }
  }, []);

  const isEventRequired = platforms => {
    try {
      return (platforms === null || platforms === void 0 ? void 0 : platforms.map(p => p === null || p === void 0 ? void 0 : p.toLowerCase()).indexOf(Platform.OS)) !== -1 || !platforms;
    } catch (ex) {}

    return false;
  };

  const keyboardDidShow = frames => {
    setKeyboardHeight(frames.endCoordinates.height);
  };

  const keyboardDidHide = () => {
    setKeyboardHeight(0);
  };

  return keyboardHeight;
};

export default useKeyboardHeight;
//# sourceMappingURL=index.js.map